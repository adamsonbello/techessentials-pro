RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ router.php?route=$1 [QSA,L]

RewriteEngine On

# Sécurité basique - Empêcher l'accès aux dossiers sensibles
RewriteRule ^(includes|config|vendor)/ - [F,L]

# Vos règles actuelles
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ router.php?route=$1 [QSA,L]

# Désactiver l'affichage des dossiers
Options -Indexes

# Limites PHP pour articles longs
php_value post_max_size 50M
php_value upload_max_filesize 50M
php_value max_input_vars 5000
php_value memory_limit 256M
php_value max_execution_time 300

RewriteEngine On

# Redirection www vers non-www
RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
RewriteRule ^(.*)$ https://%1/$1 [R=301,L]

# URLs propres pour articles
RewriteRule ^article/([0-9]+)/?$ /blog/article.php?id=$1 [L]
RewriteRule ^article/([a-z0-9-]+)/?$ /blog/article.php?slug=$1 [L]

# URLs propres pour catégories
RewriteRule ^category/([0-9]+)/?$ /blog/?category=$1 [L]

# Compression GZIP
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript
</IfModule>

# Cache navigateur
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType image/jpg "access plus 1 year"
  ExpiresByType image/jpeg "access plus 1 year"
  ExpiresByType image/png "access plus 1 year"
  ExpiresByType text/css "access plus 1 month"
  ExpiresByType application/javascript "access plus 1 month"
</IfModule>